<ion-card class="settings modal modal--fullscreen">
  <ion-button class="modal__close" (click)="close()">
    <ion-icon name="close"></ion-icon>
  </ion-button>
  <ion-card-header class="modal__header">
    <ion-title>Ajustes</ion-title>
  </ion-card-header>
  <ion-card-content>
    <section class="settings__item read-mode">
      <ion-label class="settings__item--label">
        <ion-icon
          class="info-icon"
          name="information-circle-outline"
          (click)="presentPopover($event, 'readMode')"
        ></ion-icon>
        Modo de lectura
        <ion-icon
          *ngIf="!popoverShowed.readMode"
          name="chevron-down"
          (click)="popoverShowed.readMode = !popoverShowed.readMode"
        ></ion-icon>
        <ion-icon
          *ngIf="popoverShowed.readMode"
          name="chevron-up"
          (click)="popoverShowed.readMode = !popoverShowed.readMode"
        ></ion-icon>
      </ion-label>
      <app-text-popover
        *ngIf="popoverShowed.readMode"
        class="settings__item--options"
        [checkedColorValue]="checkedColorValue"
        [checkedSizeValue]="checkedSizeValue"
      ></app-text-popover>
    </section>

    <!-- <section class="settings__item mail" *ngIf="false">
      <ion-label class="settings__item--label">
        <ion-icon
          class="info-icon"
          name="information-circle-outline"
          (click)="presentEmailInfoPopover($event)"
        ></ion-icon>
        Email
        <ion-icon
          *ngIf="!emailShowed"
          name="chevron-down"
          (click)="toggleEmail()"
        ></ion-icon>
        <ion-icon
          *ngIf="emailShowed"
          name="chevron-up"
          (click)="toggleEmail()"
        ></ion-icon>
      </ion-label>
      <section class="settings__item--block" *ngIf="!isMailSent && emailShowed">
        <ion-text class="mail--text"
          >Introduce tu email si quiere que le avisemos cuando un nuevo artículo
          esté disponible.</ion-text
        >
        <ion-input
          type="email"
          inputmode="email"
          class="mail--input"
          placeholder="Email:"
          [(ngModel)]="mailText"
        ></ion-input>
        <ion-button
          color="warning"
          size="small"
          (click)="sendMail()"
          [disabled]="!isEmailValid(mailText) && mailIsBeingSent"
          >Enviar</ion-button
        >
      </section>
      <section
        class="settings__item--block-row"
        *ngIf="isMailSent && emailShowed"
      >
        <ion-icon color="success" name="cloud-done" size="large"></ion-icon>
        <ion-label class="mail--text">Email ya enviado.</ion-label>
      </section>
    </section> -->

    <section class="settings__item contact">
      <ion-label class="settings__item--label">
        <ion-icon
          class="info-icon"
          name="information-circle-outline"
          (click)="presentPopover($event, 'contact')"
        ></ion-icon>
        Contacto
        <ion-icon
          *ngIf="!popoverShowed.contact"
          name="chevron-down"
          (click)="popoverShowed.contact = !popoverShowed.contact"
        ></ion-icon>
        <ion-icon
          *ngIf="popoverShowed.contact"
          name="chevron-up"
          (click)="popoverShowed.contact = !popoverShowed.contact"
        ></ion-icon>
      </ion-label>
      <ion-list class="settings__contact" *ngIf="popoverShowed.contact">
        <ion-item class="settings__contact--item">
          <ion-icon color="danger" name="mail"></ion-icon>
          <ion-label class="settings__contact--label">
            historiadealicante@gmail.com
          </ion-label>
        </ion-item>
        <ion-item class="settings__contact--item">
          <ion-icon color="tertiary" name="logo-twitter"></ion-icon>
          <ion-label class="settings__contact--label">
            @historiadealic1
          </ion-label>
        </ion-item>
      </ion-list>
    </section>

    <section class="settings__item notifications">
      <ion-label class="settings__item--label">
        <ion-icon
          class="info-icon"
          name="information-circle-outline"
          (click)="presentPopover($event, 'notifications')"
        ></ion-icon>
        Notificaciones
        <ion-icon
          *ngIf="!popoverShowed.notifications"
          class="down"
          name="chevron-down"
          (click)="popoverShowed.notifications = !popoverShowed.notifications"
        ></ion-icon>
        <ion-icon
          *ngIf="popoverShowed.notifications"
          class="up"
          name="chevron-up"
          (click)="popoverShowed.notifications = !popoverShowed.notifications"
        ></ion-icon>
      </ion-label>
      <ion-item
        *ngIf="popoverShowed.notifications"
        class="settings__item--check"
      >
        <ion-checkbox
          (ionChange)="onChangeNotifications($event)"
          [(ngModel)]="notificationsIsChecked"
          [checked]="notificationsIsChecked"
        ></ion-checkbox>
        <ion-label>No deseo recibir notificaciones</ion-label>
      </ion-item>
    </section>

    <section class="settings__item privacy-policy">
      <ion-label class="settings__item--label">
        <ion-icon
          class="info-icon"
          name="information-circle-outline"
          (click)="presentPopover($event, popoverShowed.privacyPolicy)"
        ></ion-icon>
        Política de privacidad
        <ion-icon
          *ngIf="!popoverShowed.privacyPolicy"
          class="down"
          name="chevron-down"
          (click)="popoverShowed.privacyPolicy = !popoverShowed.privacyPolicy"
        ></ion-icon>
        <ion-icon
          *ngIf="popoverShowed.privacyPolicy"
          class="up"
          name="chevron-up"
          (click)="popoverShowed.privacyPolicy = !popoverShowed.privacyPolicy"
        ></ion-icon>
      </ion-label>
      <ion-button
        *ngIf="popoverShowed.privacyPolicy"
        color="success"
        size="small"
        (click)="goToPrivacyPolicyPage()"
        >Leer</ion-button
      >
    </section>
  </ion-card-content>
</ion-card>
